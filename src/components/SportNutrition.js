import React, { useState } from 'react';

const supplementsData = [
  {
    name: '–ü—Ä–æ—Ç–µ–∏–Ω',
    description: '–ü—Ä–æ—Ç–µ–∏–Ω —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –Ω–∞–±–æ—Ä—É –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å 1.2‚Äì2.2 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π —Å—É—Ç–æ—á–Ω–æ–π –Ω–æ—Ä–º—ã.',
  },
  {
    name: '–ö—Ä–µ–∞—Ç–∏–Ω',
    description: '–ö—Ä–µ–∞—Ç–∏–Ω —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∏–ª—É, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ä–æ—Å—Ç—É –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–æ–∑–∞ ‚Äî 3-5 –≥ –≤ –¥–µ–Ω—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –º–∞—Å—Å—ã —Ç–µ–ª–∞, –∏–ª–∏ 0.03 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞.',
  },
  {
    name: 'BCAA',
    description: 'BCAA (–∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã —Å —Ä–∞–∑–≤–µ—Ç–≤–ª—ë–Ω–Ω–æ–π —Ü–µ–ø—å—é) –ø–æ–º–æ–≥–∞—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—ã—à—Ü—ã –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∏—Ö —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞ ‚Äî 0.1 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.',
  },
  {
    name: '–õ-–∫–∞—Ä–Ω–∏—Ç–∏–Ω',
    description: '–õ-–∫–∞—Ä–Ω–∏—Ç–∏–Ω –ø–æ–º–æ–≥–∞–µ—Ç –≤ —Å–∂–∏–≥–∞–Ω–∏–∏ –∂–∏—Ä–∞ –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –æ–±—â–µ–π –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å 0.5‚Äì2 –≥ –≤ –¥–µ–Ω—å, –æ—Å–æ–±–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞.',
  },
  {
    name: '–û–º–µ–≥–∞-3',
    description: '–û–º–µ–≥–∞-3 –∂–∏—Ä–Ω—ã–µ –∫–∏—Å–ª–æ—Ç—ã —É–ª—É—á—à–∞—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ —Å–µ—Ä–¥—Ü–∞ –∏ –º–æ–∑–≥–∞, –∞ —Ç–∞–∫–∂–µ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –º—ã—à—Ü. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å 250‚Äì500 –º–≥ –≤ –¥–µ–Ω—å –≤ –≤–∏–¥–µ –¥–æ–±–∞–≤–æ–∫ –∏–ª–∏ –∏–∑ –ø–∏—â–∏ (—Ä—ã–±–∏–π –∂–∏—Ä).',
  },
  {
    name: '–í–∏—Ç–∞–º–∏–Ω D',
    description: '–í–∏—Ç–∞–º–∏–Ω D –≤–∞–∂–µ–Ω –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è –∫–æ—Å—Ç–µ–π –∏ –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–æ–∑–∞ ‚Äî 2000-5000 –ú–ï –≤ –¥–µ–Ω—å, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è –¥–µ—Ñ–∏—Ü–∏—Ç–∞ –∏ –º–∞—Å—Å—ã —Ç–µ–ª–∞.',
  },
  {
    name: '–í–∏—Ç–∞–º–∏–Ω—ã –≥—Ä—É–ø–ø—ã B',
    description: '–í–∏—Ç–∞–º–∏–Ω—ã –≥—Ä—É–ø–ø—ã B —Å–ø–æ—Å–æ–±—Å—Ç–≤—É—é—Ç –ø–æ–≤—ã—à–µ–Ω–∏—é —ç–Ω–µ—Ä–≥–∏–∏, —É–ª—É—á—à–µ–Ω–∏—é –æ–±–º–µ–Ω–∞ –≤–µ—â–µ—Å—Ç–≤ –∏ —Å–Ω–∏–∂–µ–Ω–∏—é —Å—Ç—Ä–µ—Å—Å–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å –≤–∏—Ç–∞–º–∏–Ω–æ–≤ –≥—Ä—É–ø–ø—ã B —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–æ–±—ã—á–Ω–æ 1 —Ç–∞–±–ª–µ—Ç–∫–∞ –≤ –¥–µ–Ω—å).',
  },
  {
    name: '–ú–∞–≥–Ω–∏–π',
    description: '–ú–∞–≥–Ω–∏–π –≤–∞–∂–µ–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –º—ã—à—Ü, —É–ª—É—á—à–µ–Ω–∏—è —Å–Ω–∞ –∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–≤–Ω—è —Å–∞—Ö–∞—Ä–∞ –≤ –∫—Ä–æ–≤–∏. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞ ‚Äî 5-10 –º–≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –≤ –¥–µ–Ω—å, –ª—É—á—à–µ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º.',
  },
  {
    name: '–¶–∏–Ω–∫',
    description: '–¶–∏–Ω–∫ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—é –∑–¥–æ—Ä–æ–≤—å—è –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —É—Ä–æ–≤–Ω—è —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–æ–∑–∞ ‚Äî 0.1‚Äì0.15 –º–≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –≤ –¥–µ–Ω—å.',
  },
  {
    name: '–ì–ª—é—Ç–∞–º–∏–Ω',
    description: '–ì–ª—é—Ç–∞–º–∏–Ω —É—Å–∫–æ—Ä—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—ã—à—Ü –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Å–Ω–∏–∑–∏—Ç—å –±–æ–ª–µ–∑–Ω–µ–Ω–Ω—ã–µ –æ—â—É—â–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å 0.1 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.',
  },
  {
    name: '–¶–∏—Ç—Ä—É–ª–ª–∏–Ω',
    description: '–¶–∏—Ç—Ä—É–ª–ª–∏–Ω —É–ª—É—á—à–∞–µ—Ç –∫—Ä–æ–≤–æ–æ–±—Ä–∞—â–µ–Ω–∏–µ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —É—Å—Ç–∞–ª–æ—Å—Ç—å –≤–æ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞ ‚Äî 6-8 –≥ –∑–∞ 30-60 –º–∏–Ω—É—Ç –¥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.',
  },
  {
    name: '–ê—Ä–≥–∏–Ω–∏–Ω',
    description: '–ê—Ä–≥–∏–Ω–∏–Ω —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∫—Ä–æ–≤–µ–Ω–æ—Å–Ω—ã—Ö —Å–æ—Å—É–¥–æ–≤ –∏ —É–ª—É—á—à–µ–Ω–∏—é –∫—Ä–æ–≤–æ—Ç–æ–∫–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å 0.05‚Äì0.1 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –ø–µ—Ä–µ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–æ–π.',
  },
  {
    name: '–ë–µ—Ç–∞-–∞–ª–∞–Ω–∏–Ω',
    description: '–ë–µ—Ç–∞-–∞–ª–∞–Ω–∏–Ω –ø–æ–≤—ã—à–∞–µ—Ç –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å –∏ —É–º–µ–Ω—å—à–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –º–æ–ª–æ—á–Ω–æ–π –∫–∏—Å–ª–æ—Ç—ã –≤ –º—ã—à—Ü–∞—Ö. –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–æ–∑–∞ ‚Äî 0.05‚Äì0.1 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –≤ –¥–µ–Ω—å, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω–∞—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—ë–º–æ–≤.',
  },
  {
    name: '–ì–µ–π–Ω–µ—Ä',
    description: '–ì–µ–π–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç —É–≥–ª–µ–≤–æ–¥—ã –∏ –±–µ–ª–∫–∏ –¥–ª—è –Ω–∞–±–æ—Ä–∞ –º–∞—Å—Å—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏–Ω–∏–º–∞—Ç—å 1-2 –≥ –Ω–∞ –∫–∏–ª–æ–≥—Ä–∞–º–º –º–∞—Å—Å—ã —Ç–µ–ª–∞ –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ü–µ–ª–µ–π –∏ —Å—É—Ç–æ—á–Ω–æ–π –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏.',
  },
];


const SportContent = ({ onClose }) => {
  const [openItems, setOpenItems] = useState([]);
  const [weight, setWeight] = useState(0); // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ—Å–∞
  const [doses, setDoses] = useState({}); // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–æ–∑

  const toggleItem = (index) => {
    if (openItems.includes(index)) {
      setOpenItems(openItems.filter((itemIndex) => itemIndex !== index));
    } else {
      setOpenItems([...openItems, index]);
    }
  };

  const calculateDoses = () => {
    const newDoses = {};
    supplementsData.forEach(item => {
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–æ–∑–∏—Ä–æ–≤–∫–∏
      const rangeMatch = item.description.match(/([0-9]*[.,]?[0-9]+)\s*-\s*([0-9]*[.,]?[0-9]+)\s*(–≥|–º–≥|–ú–ï)?/);
      if (rangeMatch) {
        const minDose = parseFloat(rangeMatch[1].replace(',', '.'));
        const maxDose = parseFloat(rangeMatch[2].replace(',', '.'));
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–æ–∑—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Å–∞
        const minCalculatedDose = (minDose * weight).toFixed(2);
        const maxCalculatedDose = (maxDose * weight).toFixed(2);
        newDoses[item.name] = {
          min: minCalculatedDose,
          max: maxCalculatedDose,
        };
      } else {
        // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω –¥–∏–∞–ø–∞–∑–æ–Ω, –∏—â–µ–º –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ
        const singleMatch = item.description.match(/([0-9]*[.,]?[0-9]+)(?=\s*(–≥|–º–≥|–ú–ï))/);
        if (singleMatch) {
          const dose = parseFloat(singleMatch[0].replace(',', '.'));
          newDoses[item.name] = {
            min: (dose * weight * 0.8).toFixed(2), // –ó–∞–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–æ–∑—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, 80% –æ—Ç –æ–¥–Ω–æ–π –¥–æ–∑—ã
            max: (dose * weight * 1.2).toFixed(2), // –ó–∞–¥–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–æ–∑—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, 120% –æ—Ç –æ–¥–Ω–æ–π –¥–æ–∑—ã
          };
        }
      }
    });
    setDoses(newDoses);
  };

  return (
    <div style={{ padding: '10px', maxHeight: '450px', overflowY: 'auto', border: '1px solid #ccc' }}>
      <div>
        <label>
          –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–µ—Å (–≤ –∫–≥):
          <input
            type="number"
            value={weight}
            onChange={(e) => setWeight(Number(e.target.value))}
            onBlur={calculateDoses}
            style={{ marginLeft: '10px', marginBottom: '10px' }}
          />
        </label>
      </div>
      <ul style={{ listStyle: 'none', padding: 0 }}>
        {supplementsData.map((item, index) => (
          <li key={index} style={{ marginBottom: '10px' }}>
            <div
              onClick={() => toggleItem(index)}
              style={{
                cursor: 'pointer',
                display: 'flex',
                justifyContent: 'space-between',
                alignItems: 'center',
                padding: '5px',
                backgroundColor: '#cfcfcf',
                borderRadius: '4px',
              }}
            >
              <span>{item.name}</span>
              <span>{openItems.includes(index) ? 'üîΩ' : '‚ñ∂Ô∏è'}</span>
            </div>
            {openItems.includes(index) && (
              <div style={{ marginTop: '5px', paddingLeft: '10px' }}>
                <p>{item.description}</p>
                {weight > 0 && (
                  <p>
                    –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–æ–∑–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –≤–µ—Å–∞: {doses[item.name]?.min} –≥ - {doses[item.name]?.max} –≥
                  </p>
                )}
              </div>
            )}
          </li>
        ))}
      </ul>
    </div>
  );
};

export default SportContent;

